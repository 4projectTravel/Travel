<!--現在地とピンの表示-->
<!DOCTYPE html>
<html>
  <head>

    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.rtl.min.css" integrity="sha384-PRrgQVJ8NNHGieOA1grGdCTIt4h21CzJs6SnWH4YMQ6G5F5+IEzOHz67L4SQaF0o" crossorigin="anonymous">


    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 70%;
        weight: 50%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

    </style>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-info sticky-top">
      <div class="navbar-nav d-flex flex-row">
        <a class="navbar-brand text-light" href="{% url 'topA' %}"><font size="6">ほっとりっぷ</font></a>
        <!--<a class="nav-link mx-3" href="{% url 'create-itinerary' %}"> 旅行日程表を作成する </a>-->
        <a class="nav-link mx-3" href="{% url 'list-itinerary-all' %}"> 旅行記録を閲覧する </a>
        <!--<a class="nav-link mx-3" href="{% url 'move_to_record' %}"> 旅行記録を作成する </a>-->
        <a class="nav-link mx-3" href="{% url 'list-post' %}"> 口コミを閲覧・投稿する </a>
        <!--<a class="nav-link mx-3" href="{% url 'create-post' %}"> 口コミ登録 </a>-->
        <a class="nav-link mx-3" href="{% url 'move_to_mypage' %}"> マイページ(旅程表作成・閲覧) </a>
        <a class="nav-link mx-3" href="{% url 'list-likepost' %}"> お気に入り登録済みスポット </a>
        <!--<a class="nav-link mx-3" href="{% url 'move_to_traveling' %}"> 現在旅行中の方はこちら </a>-->
      </div>
      <div class="narbar-nav d-flex flex-row">
        {% if request.user.is_authenticated %}
          <a class="nav-link mx-3" href="{% url 'accounts:logout' %}">Logout</a>
        {% else %}
          <a class="nav-link mx-3" href="{% url 'accounts:login' %}">Login</a>
          <a class="nab-link mx-3" href="{% url 'accounts:signup' %}">Sign up</a>
        {% endif %}
      </div>
    </nav>


    <div id="map"></div>
    <script>
    var map;

    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 36.0047, lng: 137.5936},
        zoom: 4.5
      });
      var kamakura = {lat: 35.3188764, lng: 139.55197}
      var str1 = '<a href="{% url 'map_kamakura' %}">'
      var str2 = '</a>'
      var marker_kamakura = new google.maps.Marker({
        position: kamakura,
        map: map,
        icon: "https://maps.google.com/mapfiles/ms/micons/green-dot.png"
      });
/*
      var infoWindow = new google.maps.InfoWindow({
        position: kamakura,
        content: str1 + "鎌倉の人気スポットを探す" + str2
      });
      infoWindow.open(map);
*/
      map.addListener('click', function(e){
        var infoWindow = new google.maps.InfoWindow({
          position: kamakura,
          content: str1 + "鎌倉の人気スポットを探す" + str2
        });
        marker_kamakura.addListener('click', function(){
          infoWindow.open(map, marker_kamakura);
      　});
        infoWindow.addListener('closeclick', function(){
          infoWindow.close();
        });
      });
    }
    </script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiugR_kRyfmu3OjnFbB1QL0qcdB-pfSb0&callback=initMap"
    async defer></script>
  </body>
</html>
